---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš == You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
T1 ^AhGiU5IP

T2 ^EgHMVmW7

ðŸ”¹ T1 starts and reads price, acquiring a shared lock (S) ^uOXdNbcB

SELECT... ^tlhJRcrS

ðŸ”¹ T2 tries to update price, but is blocked by T1â€™s shared lock (S) ^0WqYq7of

UPDATE... ^RzlU2HgN

This transaction
is blocked as
this row has
a shared lock,
and we're trying
to write ^OGrTQHfX

} ^tbOIvupG

Once T1 commits,
we can now obtain the shared or exclusive lock, updating the value. ^EX1QIFRv

ðŸ”¹ T1 reads the price again (same value), ensuring repeatable reads ^cLgzoPXp

SELECT... ^hSxCKHuJ

Commit, Releasing Lock ^oYYnhUPq

%%
## Drawing
```compressed-json
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
```
%%