---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš == You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
T1 ^uW6S3mFy

T2 ^pxZfg9Lo

ðŸ”¹ T1 starts and reads price, acquiring a shared lock (S) ^fRx3u3uQ

SELECT... ^ejVLHLaa

ðŸ”¹ T2 tries to update price, but is blocked by T1â€™s shared lock (S) ^WD2LWlr3

UPDATE... ^whrsxUy1

This transaction
is blocked as
this row has
a shared lock,
and we're trying
to write ^Z4sEdcah

} ^zN8goXj5

Once T1 commits,
we can now obtain the shared or exclusive lock, updating the value. ^YxlKMyc5

ðŸ”¹ T1 reads the price again (same value), ensuring repeatable reads ^demNisiS

SELECT... ^0jy8uqZo

Commit, Releasing Lock ^pjjh3QK0

%%
## Drawing
```compressed-json
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
```
%%